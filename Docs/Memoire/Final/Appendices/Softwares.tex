%----------------------------------------------------------------------------------------

%\newpage

\section{Softwares and Packages}{Packages et logiciels} % Chapter title

\label{app:sec:packages} % For referencing the chapter elsewhere, use \autoref{ch:name} 

%----------------------------------------------------------------------------------------


%\headercit{}{}{}

% PUBLIER ces logiciels / packages sur des repos après cleaning !
% Q : also density generator ; space matters : generic workflows / grids ?



\bpar{
This appendix lists and describes the different open datasets created and used in the thesis.
}{
Cette section recense les contributions logicielles significatives, qui ont fait l'objet d'un \emph{packaging} dans l'esprit d'une science ouverte. Il est difficile de décider à quelle moment une implémentation et éventuellement une bibliothèque développées dans un cadre particulier peuvent être rendus génériques et distribués de manière autonome. Nous avons fait le choix (i) de fonctions relativement générales ; (ii) d'un fort impact potentiel ; et (iii) d'un certain niveau de maturité au niveau du packaging.
}





%%%%%%%%%%%%%%%%%%
\subsection{largeNetwoRk: Network Import and simplification for R}{largeNetwoRk : Import de réseau et simplification pour R}


\paragraph{Description}{Description}

\bpar{
Simplification of european road network, Package \texttt{LargeNetwoRk}
}{
Le package \texttt{largeNetwoRk} pour le langage \texttt{R} est destiné à l'import et la simplification des réseaux de transport massifs. Il est particulièrement construit pour l'import de données OpenStreetMap, mais peut traiter d'autres formats comme shp. L'objectif est de permettre des analyses des réseaux sur de grandes surfaces tout en disposant de capacités de calcul modestes, et de rendre transparent l'import des données spatiales en un graphe topologique.
}


\paragraph{Characteristics}{Caractéristiques}

%\begin{itemize}
%\item Language : \texttt{R}, \texttt{Shell}, \texttt{PostgreSQL}
%\item Size : 919
%\end{itemize}

Le package est intégralement écrit en \texttt{R}, et requiert une connexion avec une base \texttt{PostgreSQL} (avec extension PostGis installée). Le code source est disponible à \url{https://github.com/JusteRaimbault/CityNetwork/tree/master/Models/TransportationNetwork/NetworkSimplification} avec la documentation.

\paragraph{Functions}{Fonctions}

Les principales fonctions suivantes sont implémentées :
\begin{itemize}
	\item \texttt{constructLocalGraph} : construit un graphe topologique à partir des lignes spatiales issues de la base postgis (dans une étendue spatiale précisée)
	\item \texttt{graphFromSpdf} : construit un graphe topologique à partir d'une structure de données spatiale (permet d'importer depuis un fichier \texttt{shp} par exemple)
	\item \texttt{mergeGraphs} : fusion de deux graphes voisins dans l'espace
	\item \texttt{simplifyGraph} : simplification d'un graphe (voir algorithme en~\ref{app:sec:staticcorrelations})
	\item \texttt{connexify} : donne un graphe connecté à partir d'un graphe quelconque, par l'ajout de connecteurs
	\item \texttt{exportGraph} : exporte un graphe topologique dans la base de données
\end{itemize}

Un script complet permet par ailleurs l'exécution de l'algorithme \emph{split and merge} décrit en~\ref{app:sec:staticcorrelations} pour la simplification de grandes étendues spatiales.


\paragraph{Particularities}{Particularités}

\bpar{
Handling of large size databases imposes sequential processing ; use of external program \texttt{osmosis} for conversion from \texttt{osm} data to pgsql.
}{
L'utilisation sur données massives requière un traitement en parallèle. De plus, le programme externe \texttt{osmosis} est utilisé pour la conversion initiale des données OpenStreetMap (\texttt{osm pbf} par exemple) et leur import dans la base postgis.
}






%%%%%%%%%%%%%%%%%%
\subsection{Transportation networks and accessibility in R}{Réseaux de transports et accessibilité en R}


\paragraph{Description}{Description}

Le package \texttt{tRansport} pour le langage \texttt{R} rend transparent les calculs d'indicateurs pour les réseaux de transport en commun et les calculs d'accessibilité associés. A partir de jeux de données comprenant lignes et stations pour différents modes de transports en commun, il permet de construire un réseau topologique multimodal et de calculer différentes mesures étant donné des variables géographiques.


\paragraph{Characteristics}{Caractéristiques}

Le package est écrit en langage \texttt{R} et produit des graphes selon la structure du package \texttt{igraph}. Le code source et la documentation sont disponibles à \url{https://github.com/JusteRaimbault/CityNetwork/tree/master/Models/TransportationNetwork/NetworkAnalysis}.


\paragraph{Functions}{Fonctions}

Les principales fonctions suivantes sont disponibles :
\begin{itemize}
	\item \texttt{addTransportationLayer} : construit un graphe à partir d'une couche du réseau, ou ajoute une couche à un réseau existant, à partir d'une description shapefile des liens et des noeuds (gares) du réseau.
	\item \texttt{addPointsLayer} : ajoute une couche de points, qui peuvent être alors origine ou destination d'itinéraires. Ils sont reliés à la gare la plus proche par des connecteurs dont la vitesse est spécifiée.
	\item \texttt{addAdministrativeLayer} : fonction similaire, qui connecte les centroïdes d'une couche de polygones représentant typiquement des zones administratives, conservant leur attributs comme attributs de noeuds.
	\item \texttt{computeAccess} : calcule l'accessibilité entre des point du réseau de transport, selon plusieurs spécifications : temps de trajet, pondération à l'origine et/ou à la destination par des données spécifiées.
\end{itemize}



%%%%%%%%%%%%%%%%%%
\subsection{The morphology NetLogo extension to measure Urban Form}{morphology : extension NetLogo pour mesurer la forme urbaine}

\label{app:subsec:morphologyextension}

\paragraph{Description}{Description}

L'extension \texttt{morphology} pour NetLogo5 permet de calculer de manière efficiente et transparente les indicateurs morphologiques introduits en~\ref{sec:staticcorrelations} (indice de Moran, entropie, distance moyenne, hiérarchie), pour la distribution spatiale d'une variable de patch quelconque.

\paragraph{Characteristics}{Caractéristiques}

L'extension est écrite en \texttt{scala} et est compatible avec les versions 5 de NetLogo. Elle est disponible à \url{https://github.com/JusteRaimbault/nl-spatialmorphology}.


\paragraph{Particularities}{Particularités}

Les indicateurs impliquant une convolution (indice de Moran, distance moyenne) sont implémentés par transformée de Fourier rapide, permettant de faire passer la complexité d'un $O(N^4)$ à un $O(N^2\cdot \log^2 N)$ si $N$ est la taille d'un côté de la grille. 


%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{TorPool}{TorPool}


\paragraph{Description}{Description}

\bpar{
TorPool is a java based Tor wrapper available with an api (currently only java, R version projected) at \url{https://github.com/JusteRaimbault/TorPool}. It allows among other purposes tricky data retrieval.
}{
\texttt{TorPool} est un wrapper java du logiciel tor, qui permet de maintenir une équipe d'instances en parallèle, et de renouveler ces instances sur demande. Une interface avec TorPool est disponible avec java par une bibliothèque dédiée. Cet utilitaire permet entre autres de faciliter la collection automatique de données. Il est disponible sous forme executable à \url{https://github.com/JusteRaimbault/TorPool}.
}

\paragraph{Functions}{Fonctions}

Le logiciel se lance sous forme d'executable \texttt{jar}, et ouvre une plage spécifiée de ports en proxy \texttt{socks5} local vers le réseau Tor.

La bibliothèque java associée permet (i) d'établir une connexion avec les proxys (ii) de demander un renouvellement des instances, permettant un changement de circuit dans le réseau.





%%%%%%%%%%%%%%%%%%
\subsection{Scientific Corpus Mining}{Fouille de Corpus scientifique}

\paragraph{Description}{Description}

Les outils développés dans le cadre du Chapitre~\ref{ch:modelinginteractions}, et des Annexes~\ref{app:sec:cybergeo} et~\ref{app:sec:patentsmining} permettent de manière générale la fouille de corpus scientifiques, du point de vue du réseau de citation et du réseau sémantique.

\paragraph{Characteristics}{Caractéristiques}

Comme rappelé en~\ref{app:sec:cybergeo}, les tâches requises sont assez hétérogènes, et différents langages sont alors mobilisés : Java pour la collection des données, python pour l'analyse textuelle, R pour les analyses de réseau. La version des différents scripts utilisés pour le Chapitre~\ref{ch:modelinginteractions} est disponible à \url{https://github.com/JusteRaimbault/CityNetwork/tree/master/Models/QuantEpistemo/HyperNetwork}.


\paragraph{Functions}{Fonctions}

Les fonctions suivantes sont assurées : (i) collecte du réseau de citation à partir d'un corpus initial, collecte des résumés d'un corpus ; (ii) extraction des mots-clés sous forme de n-grams, estimation de la pertinence des mots clés ; (iii) construction des réseaux sémantiques et de citation.








