This paper presents an exploratory work, using self-organization process to simulate urban spatial structures by the means of dynamic individual and group representations. Methodological tools of complexity interest most sciences because, in theory, they allow to make clear the link between micro and macro levels. One generation of tools, like cellular automata (for example, games of life, Conway, 1970), showed us how simple rules at the micro level could make “something new” at the macro level. Before, previous tools, like mathematical models with determinist equations (for example, preys and predators models of Lotka and Volterra, 1925-26), had shown the result of complex interactions at macro level and the importance of initial conditions or, in other words, the question of the genesis of phenomena. These models, up and down, and their respective properties, urged social sciences researchers to consider methodological tools of complexity with a greater interest. Indeed, they can stage the idea that the law which governs phenomena can itself be produced by phenomena, and this “muddled hierarchy” is very important to conceive human affairs (Dupuy, 1991). Furthermore, these two kinds of models, that are able to produce unexpected events, lead us to explore dynamic models like autonomous objects, by experimental methods with the help of computer simulations.
For some years, geography has seized several types of methodological tools to simulate complexity models, where two, at least, refer to distributed artificial intelligence: cellular automata and Multi-Agent Systems, MAS (for example, Bura and al., 1996). This latter tool conceals a fundamental interest: while the autonomous entities, the cells in cellular automata, only take into account the spatial relations of neighbourhood and especially cannot change their topological situation, simulated individuals, the agents in MAS, can move through the artificial universe and change their topology. An agent perceives, deliberates, and acts in an environment constituted of objects as well as of other agents. Cognitive functions can be also provided and an agent1 may have representations, may communicate, and redefine its proper strategies. So, in our work, we have used a MAS to make this geographical experience and it was implemented in Starlogo (Resnick, 1994).
Finally, a question must particularly hold our attention. If we are agree with René Thom to say that a science builds up around a problem to be solved, perhaps the question is, for the geographer: “to discover spatial systems and to understand representations and proper experiences of inhabitants” (Bailly, 1992). But, we think with A. Bailly that it is impossible to make objective the relationship between human being and place, especially if a place is considered as a unique object with a unique meaning (Bailly, 2001). In this paper, we implement the idea that the history of household to find a residence and a dynamic system of representations give different meanings to a same place. So, we build a geographical model where the spatial, individual and collective representations, participate to the construction of spatial structures because they take part in the deliberation preceding the action of agents. The new spatial structures, in turn, will modify the representations of space and the future actions of agents, and so on.
In this paper, collective representations are, according to J.P. Guérin (André and al., 1989), “des créations sociales de schémas pertinents du réel” and we will consider that individual representations are at the basis of these social creations, and are the personal experiences of the urban growing space that we will also call memories. So, these collective representations and memories have a period of life (that we will call “inertia time”) and, during this time, others memories are building up.
We use a Multi-Agent System to simulate an urban artificial universe with households as agents. The aim is to determine what social or spatial rules are necessary to artificial households, to obtain, for the eyes of an observer, a well-known urban structure as spatial segregation. The way we use to make such a project is an interaction between such individual representations of households, collective representations (that are mixed individual representations and acts as a constraint), and residential behaviours. So, this work is not just an integration of space in a MAS but, as we said in the introduction, it is an expression of a geographical conception of space: behaviours of households contribute to modify the structure of space; these spatial changes influence the representations of households and, as a consequence, the collective representations. These two axes of change, spatial and social, participate to the next behaviours of households. And so on.
On another hand, we want to build a model where collective representations create urban patterns and where this persistent reification molds actions via individual representations. So, the less spatial rules we have at micro level to simulate spatial forms at macro level, the better it is. Our point of view to implement rules at the micro level in the model consists in minimizing spatial rules because there is a big risk that they command the result, in terms of spatial macro forms. For example, the Schelling's segregation models (1971,1978) do not really interest us (for our model!), because the segregation forms are the direct consequence of a spatial rule at the micro level. By example, consider a spatial grid where equal quantities of blue and green agents are randomly spread (fig. 1). Each blue agent wants to live near at least some other blue agents, and each green agent wants to live near at least some others green agents. But many blue agents are “unhappy” since they don't have enough same-color neighbours. The unhappy blue agents jump to new locations. But when the unhappy blue agents move to a new cell, they might prompt green agents to leave that cell, because their green neighbours part might decrease, making them unhappy. Simulations can show how these individual preferences get into interaction, leading to large-scale spatial patterns. Over time, the number of unhappy agents decreases. Space becomes more segregated, with clusters of blue agents and clusters of green agents (fig. 2).
  
Fig. 1 : random spread of green and blue agents.  

Fig. 2: a Schelling's segregation model result.
All agents are happy and space is become more segregated with big clusters of each type of agents.
What was really interesting for Schelling, who worked on micromotives, is that if each agent wants just a little percentage of same-color neighbours (in our example about 40%, less than a random spread), the agents end up with a big average of same-color neighbours (about 85%). So, relatively small individual preferences can lead to significant overall segregation. In our case, we want to eliminate, as much as possible, all spatial neighbourhood rules. Choices of residence and segregation will be the result of a deliberation depending on a muddled hierarchy of representations.
So, in the model, household agents wander through the multi-agent universe to find an optimal place of residence according to two constraints: their income and the prestige of places. But, if we want to avoid the same-color neighbour dynamics, we absolutely need something else: prestige of places and especially the representations that the agents build up, are used as intermediary elements. The prestige of a place that household agents perceive, put in balance with their income, as well as an evaluation previously and individually constituted of the city prestige2, and the weight of the representation of prestige established by their social group, drives their behaviour (moving out or moving in).
Practically, the multi-agent model is built as follows: the universe is an open grid of 21 by 21 squares; each one has 8 neighbouring squares (Moore neighbourhood). At the initial state, there is no prestige, anywhere, because we want to simulate the genesis of segregation in a growing agglomeration. The agents are separated in three unequal groups: households with low income (220 agents), households with medium income (147), and households with high income (74)3. Normally, there is a square of grid for each agent (441 cells for 441 agents), but in practice, there is a competition for space because we impose, and it is one spatial rule, that the settlement grows by its own outskirts.
Now, what are the individual behaviour rules for the agents ? First of all, agents move randomly from their random initial position on the grid. The new location of an agent originating from a random sampling in the list of all squares. And, even if another household agent lives on the chosen cell, it or they come(s) there: it is like a visit. The perception of an agent is quite simple: when it comes on a square, it looks at the prestige in an environment of eight neighbouring cells (fig. 3a). It makes a sum of prestige of the eight cells around it and the cell it stays in counts with a weighting of eight. In another case, it just keeps the prestige of its cell in memory (fig. 3b).

Fig. 3a : weighting for a prestige perception of 9 cells.

Fig. 3b: … for a prestige  perception of 1 cell.
In both cases, prestige is added to the prestige it has seen at the former time steps . After an assigned number of time steps called inertia, the agents make an average of the prestige they have seen during this inertia time. It will be their memory and their representation in store for a new inertia time. These values will be the evaluations of the city prestige they imagine individually, resulting of their own city practices.
After it looks at prestige, an agent assigns some prestige to the place it visits. The rule is to give the value of its own income. So, if visiting household agent has a high income, it gives more prestige than a household agent with a low income.
The last behaviour rule is a test to be or not to be a resident. An household agent becomes resident if the place visited is free (no resident), if its prestige memory is lower than the prestige of this coveted square (the agent tries to reside on a place more prestigious than the average prestige of places it has seen before), and if a random sampling that gives an advantage to high income, is positive.
In MAS, at each time step, the agents must do an identical cycle. It is built as follows: first of all, the migrant agents move randomly. All agents look at the prestige of their environment and then, add prestige to cells they occupy. If time is a multiple of inertia, all agents renew their own memory. After that, they test their capacity to become resident. The last operation consists in the definition of the social pressure. Every inertia time steps, new prestige memories are used to build three averages, the collective representations, for each groups: low, medium and high incomes. And, if a virtual household is resident, a test appears like a social control operated by its own group. If the prestige memory of the resident is lower than the collective prestige value of its group, it leaves. It means that the place was not prestigious enough for a member of this group. Conversely, if the prestige memory of a household agent is too high compared to the collective representation of its group, it must leave also. For example, it means that environment becomes too prestigious for the social membership of the household agent in this situation.
So, from the initial state, the model unfolds itself with this announced cycle. During inertia first time step, the virtual households look at prestige and assign prestige (we make them invisible when they are not resident). At inertia time, they check their capability to inhabit a place. The observer chooses a “pioneer” at random among all agents that satisfy the resident test, and it stays if it is in conformity with its group representation of prestige. From this point, the settlement can grow and the observer intervenes no more. Household agents can be resident at each time step, the social control operates at each time step but it will be renewed only every inertia times as well as individual representations.
An example of simulation is shown on fig. 4. We can see the growth of the agglomeration and, in the same time, space becomes more segregated.

Fig. 4 : an example of simulation over 200 time steps.
The prestige of places is indicated in gray color (white are very prestigious places). Green cells are resident agents with low incomes, orange cells are resident agents with medium incomes and purple with high incomes.
At the beginning, after inertia time (time step 05), we see an orange pioneer in a universe colored in gray tones. The more a cell is visited, the more it is prestigious (but it also depend on the income of migrants), and the more it turns to white (it is a relative scale of gray between minimum and maximum prestige values). There are three categories of resident household agents we can see there: low-income residents are in green, medium income residents are in orange, and high income in purple. Often, at the beginning, the pioneer is green because it is the most represented color and access to residence is easy for all groups. From a mosaic of the three groups we have during the first periods, after 30 time steps, low-income agents begin to get away from the center and leave deserted areas. From time step 50, the presence of green agents is intense in the outskirts of settlement and the center is refilled with medium and high incomes. At the end of the simulation, we find that about 80% of each population has found a residence (fig. 5).

Fig. 5 : the account of residents by social group during the simulation (green for low-income, orange for medium income and purple for high income).
Medium incomes early have the better situation to find a residence; low and high incomes have difficulties but the first because places are too prestigious and the second because they are not enough.
The result seems to show a segregation phenomenon for the eye of the observer. But, to improve these forms it is necessary to check if they are not the result of a random display. To take care of it, we make five hundred drawing lots of positions that can have the household agents in the multi-agent universe. Each time, we measure the overall similar neighbour percentage. That measure, for an identical space, depends on the number of groups and the number of agents in each group. The histogram shows a Laplace-Gauss distribution (fig. 6), and for instance, if with two equal groups the central value is 50%, it will be around 33.3% for three equal groups (fig. 7).

Fig. 6 (on the left) : histogram of overall similar neighbour percentage, measured for 500 drawing lots of household agents position, shows a random gaussian distribution.

Fig. 7 (on the right) : with three types of different agents, the median point on the cumulative frequencies histogram is close to 33.3% of overall similar neighbour percentage.
To compare a random distribution and the results of simulations, we can use probability associated to a Laplace-Gauss distribution. But, because of the situation of competition for residence caused by the obligation to agglomerate with each other, all agents cannot find a place “to live in” and we make a random test not on the 220, 147, 74 group populations but a 177, 138, 50 populations as we found in average at the end of 10 simulations. For each population, the average random value and the 95% confidence interval for similar neighbours are shown in the following table (tab. 1).
L_grp
M_grp
H_grp
Ui
45,30
33,94
8,35
-2 STD
48,39
37,61
13,45
0
51,49
41,27
18,55
+2 STD
Tab. 1 :
this table gives for each group (L for low, M for medium and H for high incomes), the extreme values of the 95% interval confidences (+/– 2 standard deviations), above or below which the value of similar neighbours is different from a random spread.



Fig. 8, 9, 10 : percentages of similar neighbours for the three groups during 10 simulations (low incomes in left corner, medium incomes in right corner, and high incomes in the middle).
All curves on fig. 8, 9 and 10 show that all simulations end with segregate urban forms that are statistically proven. We think that little picks of similar neighbours percentages we can see on most curves at the beginning are linked with the small number of neighbours in the first periods: if an agent has only one neighbour, and if this neighbour is in the same income group, then its similar neighbour value is 100%, as well as the one of its neighbour and the average grows up and down very quickly. Now, we must compare the results with our objectives as given in the introduction.
Random peregrinations of migrants build the first representations and prestige of places. Until the first pioneer settles down, prestige is randomly spread because all movements are randomly chosen. After that, an order begins to appear: below the pioneer and its neighbours, prestige is growing more than in the others parts of multi-agent universe. As a matter of fact, when an agent is a resident, at each time step it puts its income on the cell to make its prestige growing. So, prestige is growing in this place more regularly than anywhere else and, even if prestige is increasing more rapidly in cells where the income is high, all these cells are going to build the first structures of residence, without segregation. Of course, differences are beginning to appear, first in individual representations, then in group representations. Quickly, differences are significant between the three group representations because resident agents perceive in a dominant way the prestige they assign themselves (to cells below them).
In the first periods4, it is very easy for household agents to be resident, because the settlement is small (spatial structure does not impose a representation of high prestige), prestige is low around the settlement and most agents have very low individual representation: test to be resident is often positive. So, we need to adjust the social pressure because, if the first condition of the social pressure brings no problem (at this moment of the simulation the prestige memory of the resident is above the collective prestige value of its group), the prestige memory of a household agent would be too high compared to the collective representation of its group, and provoke its departure. To avoid this departure in the first periods (see fig. 4, until time steps 20, 25), we must adjust a parameter for this second condition of social pressure (one by group representation). Of course, after this adjustment there is no doubt: segregation is appearing progressively. It is not an emergent phenomenon; since the rules were conceived for such an urban context. However, we must remember that, even if it is a very strong spatial constraint, there is no other spatial rule than the growth of  the outskirt. It is not the neighbourhood that commands behaviour of agents but the representations they build, following their practices and the representation of their own income group. And, even if we modify the perception of prestige (as in fig. 3b), simulations show segregation forms.
If the environment of low-income resident households becomes too prestigious, their prestige representations will be very high compared to the collective representation of their group: they will have to leave. But it is important to see that it is also because often there are not enough residents in the low-income group: in others words, low-income agents with higher values of individual representations (group representation is just an average, with all its defaults and qualities). If there were enough such resident households, the limit value to leave would be higher, just because the group representation would be higher. But over time (around time step 40), the spatial structure grows, occupies the major part of the multi-agent universe and representations of migrant household are very dependent on it. Low-income household agents have more difficulties to become residents because they often see higher values of prestige than those that low-income resident agents see. So, they become resident more slowly than the two others groups (fig. 5).
Because they move from place to place randomly, migrant household agents better integrate the prestige of the universe than the resident household agents that only see local situations. Household representations only reflect a part of the “reality” of prestige. It is not the objective reality of multi-agent universe because the migrant household agents, in their random run, just look at a little part of the grid and their impression is hardly influenced by the main structure of space and by the time we give them to build their individual representations. If it is resident, its “secretion” of prestige as well as the prestige around influences its representation, we know that it lives in a very segregated environment and, obviously, its representation will be very restrictive. So, the prestige seen collectively is not more able to reflect correctly the reality of the prestige field. But it works: representations give dynamics to this multi-agent simulation. Representations are not common references already defined as, for example, religious practices (Lansing, Kremer, 1994), they evolve during simulations according to the growing spatial structures, and are constituted by two levels in interaction, individual and group representations, building a muddled hierarchy. We have already done a simulation of this type in a very different context (Bonnefoy, 2001), and it is very interesting to see that these quite simple models create a great complexity because practices and space are dynamically linked with this muddled hierarchy of representations.
“Urban” spatial structure in elaboration, builds individual representations and thus, constraints that the group is going to exercise on its own members. Space, while it is not integrated into the agents’ rules, constitutes one of the active constraints of the model. The representations of household agents reflect an aspect of the reality of prestige. They are influenced by the main structure of space. These differences participate in the dynamics of space (through the behaviour of the agents). We hope, in our research group of UMR 6012, that this kind of model will be able to help us to understand, with more acuteness, dynamic link between the spatial forms seen by the observer at the macro level, the group representations, the individual representations and the individual behaviour. We think these models are theoretical implementations of a definition of geographical space but are able to help us to discuss with social or cultural geographers “to discover spatial systems and to understand the representations and the own experiences of inhabitants” (Bailly, 1992).
