La carte est un instrument ancien qui est devenu omniprésent et de qualité croissante pour transmettre des informations dans de très nombreux domaines comme celui des risques. Leur multiplication s’explique par le développement majeur des outils informatisés et la diversification des champs d’application où on les utilise.
Or, la carte numérique accessible à tous peut avoir une lisibilité réduite (Chesneau, 2004), notamment parce que les Systèmes d’Information Géographique (SIG) n’offrent pas d’outils d’analyse des légendes et les travaux théoriques en cartographie comme ceux de J. Bertin (Bertin, 1967) ne sont pas introduits dans de tels outils.
Nous proposons un modèle d’amélioration automatique des contrastes colorés pour aider un professionnel à créer des cartes lisibles qui lui serviront efficacement dans son travail. La figure 1 expose sommairement les éléments constitutifs de notre modèle : tout d’abord, un schéma d’organisation des données (1) puis des connaissances sur les couleurs et leurs contrastes qui permettent leur analyse et leur amélioration (2), enfin un processus qui sert à évaluer et à interpréter les contrastes (3) pour obtenir une légende finale qui crée une carte plus lisible (4).

Figure 1. Composantes de notre modèle
Dans cet article, le schéma de données ne sera pas présenté (cf. Chesneau, 2006, chap. III.1) mais nous décrirons les connaissances à intégrer dans notre modèle ainsi que sa dynamique : le chapitre 2 introduit les contrastes de couleur de J. Itten ; le chapitre 3 présente la modélisation des connaissances sur les contrastes colorés ; le chapitre 4 explique le processus d’analyse et d’amélioration des contrastes à travers un scénario créé avec un prototype que nous avons développé pour les cartes de risque : ARiCo (Amélioration automatique des cartes de Risque par le Contraste coloré). Enfin, le chapitre 5 donne quelques perspectives d’évolution de notre modèle.
Dans son livre Art de la couleur (1967), J. Itten introduit sept contrastes de couleur : contraste de la couleur en soi, contraste clair-obscur, contraste chaud froid, contraste des complémentaires, contraste simultané, contraste de qualité et contraste de quantité. Avant de définir chaque contraste, nous allons présenter les principaux travaux sur les contrastes de couleur.
L. de Vinci (16ème siècle) semble être l’un des premiers à s’intéresser à la perception de la couleur. Il étudie notamment les effets du contraste entre la lumière et l’ombre. A partir du 19ème siècle, l’approche physiologique des couleurs se développe. Dans son livre Traité des couleurs, J. Goethe (1749-1832) pense que les couleurs ne sont pas le simple résultat de la décomposition de la lumière. Elles se manifestent aux yeux dans le contraste fondamental de la clarté et de l’obscurité. J. Goethe introduit aussi les effets du contraste successif et du contraste simultané. Enfin, il propose des rapports de quantités entre couleurs pures pour atteindre l’harmonie, c’est-à-dire, l’exaltation de l’œil (Goethe, 1810). Le chimiste français E. Chevreul (1786-1889) poursuit les réflexions de J. Goethe pour définir une loi objective sur les couleurs : la loi du contraste simultané. Selon lui, les yeux, attirés spontanément par une couleur, recherchent immédiatement sa complémentaire. Ses travaux sont présentés dans (Roque, 1997).
Tout au long du 19ème siècle et dans la première moitié du 20ème siècle, les artistes, dont les peintres de l’importante école du Bauhaus, s’inspirent des travaux scientifiques. Fondé en 1919 par W. Gropius à Weimar, le Bauhaus propose des enseignements en architecture, en sculpture et en peinture. Parmi les enseignants de l’école, on trouve deux peintres qui ont réfléchi aux contrastes de couleur. W. Kandinsky présente quatre contrastes entre les couleurs qu’il compare à un itinéraire spirituel. Le contraste chaud-froid, dimension spatiale de l’itinéraire, s’observe entre le jaune qui est corporel et le bleu qui est spirituel. Le contraste clair-obscur apparaît entre le blanc et le noir, dimension temporelle du parcours qui s’étend de la naissance pour le blanc à la mort pour le noir. Le troisième contraste, entre le rouge et le vert, représente l’extinction spirituelle du jaune et du bleu. Le rouge symbolise l’énergie motrice qui permet d’avancer sur l’itinéraire alors que le vert correspond au refus du voyage, à une passivité qui se suffit à elle-même. Enfin, le quatrième contraste s’observe entre l’orange et le violet. L’orange, mélange entre le rouge et le jaune, provoque un mouvement d’irradiation et d’expansion sur son entourage. Quant au violet, mélange entre le bleu et le rouge, il crée un recul du rouge à cause du bleu (Kandinsky, 1910). Dans son livre Art de la couleur (1967), J. Itten décrit sept contrastes colorés : contraste de la couleur en soi, contraste clair-obscur, contraste chaud froid, contraste des complémentaires, contraste simultané, contraste de qualité et contraste de quantité (cf. tableau 1). Selon lui, « on parle de contraste quand, entre deux effets de couleurs à comparer, on peut établir des différences ou intervalles sensibles » (Itten, 1967).
Dans la deuxième moitié du 20ème siècle, les recherches sur les contrastes de couleur se font plus rares. Les cartographes évoquent des possibilités d’utilisation de la couleur dans les cartes. En particulier, plusieurs auteurs s’attachent à développer une logique syntaxique de la couleur (Eastman, Gibson, Rader, Mersey ou Brewer). Par exemple, C. Brewer et J. Mersey, deux cartographes anglo-saxonnes, proposent des solutions pour guider l’utilisateur dans ses choix de plages de couleurs pour des cartes choroplètes (Brewer, 1994/2003 et Mersey, 1990). Plus globalement, C. Brewer a conçu un système de sélection colorée pour l’analyse et la visualisation des données géographiques. Selon les types de données représentées, des caractéristiques perceptives différentes de teinte et de clarté sont proposées. De plus, C. Brewer étudie les effets du contraste simultané dans les cartes en développant un modèle quantitatif de contraste simultané qui aide l’utilisateur à sélectionner des couleurs facilement identifiées pour sa carte. Ses travaux sont présentés dans (Brewer, 1996/1997).

Tableau 1. Contrastes de couleur de J. Itten
Pour développer notre modèle, nous avons décidé de nous baser sur les contrastes colorés de J. Itten. Toutefois, notre modèle, dans son architecture et dans ses principes, peut s’adapter à d’autres types de contrastes.
L’analyse et l’amélioration automatique des contrastes colorés dans une carte nécessite la modélisation de connaissances sur les couleurs et leurs contrastes dans notre modèle, ce que nous allons présenter dans le chapitre suivant.
Les règles sur les couleurs et leurs contrastes de notre modèle s’appuient sur des données de base qui regroupent les contrastes colorés de J. Itten (cf. 2.2) et des couleurs de référence. Après avoir présenté les couleurs de référence, nous décrirons ces règles.
Les travaux de J. Itten, C. Brewer et J. Mersey ont servi à définir des couleurs de référence pour la représentation cartographique des risques. Nous obtenons quatorze teintes saturées, chacune déclinée en sept clartés. Ces 98 couleurs permettent de représenter des aléas, des risques ou des enjeux vulnérables sur une carte. Le fond topographique est le plus souvent en gris dans les cartes de risque. Nous proposons de rendre ce fond plus actif en le représentant avec des gris colorés (gris qui contiennent de la couleur dans leur composition) que nous ajoutons à la table de référence. Nous obtenons sept teintes possédant chacune deux niveaux d’ajout de gris, chacune étant déclinée en quatre clartés, ce qui donne 56 gris colorés. Par conséquent, la table de référence se compose de 163 couleurs (figure 2). Chaque couleur utilisée dans une légende sera comparée à une de ces 163 couleurs.

Figure 2. Couleurs de la table de référence. Les couleurs saturées servent à représenter les données sur le risque, les autres servant à représenter les éléments du fond topographique
Nous organisons les couleurs de référence selon les trois paramètres de la perception des couleurs inspirés du système Munsell (Chesneau, 2006, pp.115-116) que la figure 3 expose :
Les chiffres orange correspondent aux positions angulaires des couleurs en θ. Chaque cercle chromatique se divise en secteurs qui représentent chacun une teinte. Plus l’écart angulaire entre deux teintes est fort (contraste de teinte élevé), plus les teintes traduisent une relation de différence ; plus cet écart est faible, plus elles sont en relation d’association.
Les chiffres bleus sont les positions des couleurs en Z. La clarté Z permet d’ordonner des signes en relation d’ordre. 
Les chiffres verts déterminent les positions des couleurs en φ. La saturation φ crée des hiérarchies visuelles entre signes en relation de différence ou d’association. Par exemple, dans une carte de gestion de crise, pour qu’un hôpital soit vu avant un terrain en jachère, il faut avoir un contraste de saturation assez élevé avec l’hôpital en couleur plus saturée.

Figure 3. Paramètres des couleurs
Cette façon d’organiser les couleurs de référence est utile pour la mise en place des règles sur les contrastes colorés.
Les règles sur les contrastes colorés ont trois objectifs : évaluer les contrastes, les interpréter puis proposer des nouvelles solutions.
Evaluation des contrastes : entre chaque couple de couleurs de référence, des valeurs de contraste sont définies. Ces valeurs sont stockées dans des tableaux, chaque contraste i ayant son propre tableau pour chaque couple de couleurs. Nous obtenons une valeur λi en nous appuyant sur des calculs par hypothèses basés sur les codes Teinte, Luminosité, Saturation des couleurs et des tests effectués auprès de cartographes, de graphistes et de personnes sans rapport professionnel avec la couleur (cf. Chesneau, 2006, chap. IV.2.1.2).
Nous construisons alors différentes fonctions permettant de calculer une valeur de contraste entre n’importe quel couple de couleurs de référence. Soient Cj, Ck deux couleurs parmi les 163. λi qualifie, de 0 à 5, le contraste i. Si λi vaut 0, il n’y a pas de contraste entre les deux couleurs ; si λi vaut 5, le contraste est maximal (figure 4).

Figure 4. Calcul des valeurs de contrastes
Interprétation des contrastes : les valeurs de contraste ne permettant pas de  savoir si le contraste est bon ou pas, nous ajoutons des valeurs idéales de contraste déterminées entre chaque couple de couleurs de référence. Soient Cj, Ck deux couleurs parmi les 163. μi qualifie, de 0 à 5, le contraste idéal i à avoir en fonction de la relation sémantique qui lie les deux objets cartographiés dans la carte (figure 5). Par exemple, si deux objets sont en relation de différence dans une carte, leur contraste de teinte devra être fort (3 à 5). Leur contraste de clarté dépendra de leur contraste de quantité : si les objets ont la même superficie, leur contraste de clarté devra être minimal (0 à 1) ; si l’un est plus petit que l’autre, il devra être plus foncé pour être vus en même temps.

Figure 5. Calcul des valeurs idéales de contraste
λi et μi étant connus pour deux objets O1, et O2, une qualité de contraste peut être calculée, simple différence en valeur absolue entre λi et μi soustraite à la valeur 5. Si qualitéi vaut 0, le contraste est mauvais ; si qualitéi vaut 5, le contraste est parfait (figure 6).

Figure 6. Calcul des qualités de contraste
Nouvelles propositions : notre modèle est capable de savoir quels objets graphiques ont des mauvais contrastes dans une carte. L’amélioration de leurs contrastes repose sur une recherche d’espaces de solutions sur les cercles chromatiques (cf. figure 3). Par exemple, pour un objetà changer de couleur, chaque voisin dans la carte récupère sa propre couleur et l’intervalle de valeurs idéales de contraste à avoir entre les deux objets pour traduire correctement leur relation sémantique. Le voisin propose alors une liste de solutions pour l’objet à changer de telle sorte que leurs distances colorées en θ, Zetφ soient satisfaisantes. Ensuite, chaque solution est mise en relation avec des conventions de couleur qui vont limiter les choix colorés à des couleurs évocatrices. Par exemple, la représentation de l’eau est restreinte à des couleurs contenant du bleu.
Grâce au schéma des données et aux connaissances modélisées, notre modèle a tous les éléments pour analyser et améliorer les contrastes de couleur dans une carte. Nous allons expliquer ce processus automatique à travers un scénario réalisé avec le prototype ARiCo dédié à la cartographie des risques.
La dynamique de notre modèle repose sur l’analyse de la qualité des contrastes entre les couleurs de chaque objet avec ses voisins dans la carte et sur des propositions de modifications de légende pour améliorer la lisibilité. Ainsi, l’espace d’analyse n’est pas la légende mais la carte en elle-même afin de tenir compte des relations de voisinage.
Pour créer cette dynamique, nous choisissons une méthode simple basée sur la convergence, action qui consiste à exécuter différentes tâches pour tendre vers une solution satisfaisante. Une méthode séquentielle résout pas à pas les plus gros problèmes de contraste à travers des cycles, un cycle permettant de« passer d’un état valide à un état validé suivant » (Ruas, 1999, p.201) et un état pouvant se définir comme la symbolisation d’une carte à un instant donné. A chaque fin de cycle, peu de couleurs sont modifiées mais l’état est amélioré et le dernier cycle correspond à l’obtention d’un état final satisfaisant (figure 7).

Figure 7. Différents états dans la convergence
Pour passer d’un état valide à un état validé suivant, quatre étapes principales se succèdent autour des objets graphiques et nous allons les présenter à travers un scénario. Ce scénario a été réalisé avec un prototype expérimental, construit sur le Système d’Information Géographique Lamps2 de la société LaserScan : ARiCo(Amélioration automatique des cartes de Risque par le Contraste coloré). Seules l’analyse et l’amélioration des contrastes de teinte et de clarté sont à ce jour implémentées.
La figure 8 présente la carte initiale composée de bâtiments et de zones d’aléa torrentiel. L’utilisateur a choisi le gris moyen pour symboliser les bâtiments et la teinte bleue pour les aléas : moyen pour l’aléa faible, moyen foncé pour l’aléa moyen et foncé pour l’aléa fort.

Figure 8. Carte initiale
Le but de cette première étape est de trouver les objets graphiques de la carte à changer de couleur.
Tout d’abord, l’analyse s’effectue autour de chaque objet de la carte : c’est le niveau local d’analyse. Un objetrécupère ses voisins. Avec chaque voisin, il calcule son contraste : quel est le contraste avec mon voisin ? La figure 9 montre les valeurs de contraste entre deux couples d’objets voisins dans la carte de la figure 8 : un bâtiment avec un aléa faible et un bâtiment avec un aléa moyen. On constate que le contraste de teinte est maximal pour chaque couple. Par contre, leur contraste de clarté est faible voire nul.

Figure 9. Valeurs de contraste entre un bâtiment et un aléa faible (gauche) et entre un bâtiment et un aléa moyen (droite)
Puis, en fonction de la relation sémantique qui lie les deux objets, une interprétation qualitative est effectuée : ce contraste traduit-il correctement la relation sémantique qui existe avec mon voisin ? Par exemple, si deux objets voisins appartiennent au même thème (hydrographie), ils devraient avoir un faible contraste de teinte mais un contraste de clarté élevé. Par contre, si deux objets voisins ne sont pas du même thème (inondation, bâtiment), ils devraient plutôt avoir un contraste de teinte élevé et un contraste de clarté d’autant plus fort que leur contraste de quantité l’est avec le petit objet en plus foncé. La figure 10 présente les qualités de contraste entre un bâtiment et un aléa faible et entre un bâtiment et un aléa moyen. On constate que la qualité du contraste de teinte est parfaite pour les deux couples d’objets ce qui n’est pas le cas pour le contraste de clarté, notamment entre le bâtiment et l’aléa faible.

Figure 10. Qualités de contraste entre un bâtiment et un aléa faible (gauche) et entre un bâtiment et un aléa moyen (droite)
Les qualités de contraste sont alors agrégées au niveau de l’objet avec l’ensemble de ses voisins : mon contraste avec mon voisinage est-il satisfaisant ?
 Pour identifier des systématismes dans les mauvais contrastes, on réalise une analyse à un niveau plus élevé (niveau intermédiaire) qui est le thème des objets. On peut ainsi répondre à des questions du type : est ce que les objets appartenant au même thème posent des problèmes de contrastes identiques ? La figure 11 présente les qualités de contraste des thèmes ‘bâtiment’, ‘aléa faible’ et ‘aléa moyen’. Pour ces trois familles, les qualités du contraste de teinte sont parfaites. Celles du contraste de clarté pourraient être améliorées.

Figure 11. Qualités de contraste des thèmes ‘bâtiment’, ‘aléa faible’ et ‘aléa moyen’
L’information sur les contrastes se généralise à un niveau global qui est la carte.Une satisfaction des contrastes est calculée pour répondre à la question : le contraste est-il bon dans la carte ? Dans l’exemple, la satisfaction de la carte est de 4 sur une échelle de 0 à 5.
Une fois ces analyses réalisées, notre modèle est capable de détecter, parmi l’ensemble des thèmes des objets représentés sur la carte, celui qui a le plus gros problème de contraste. Dans l’exemple, le thème à problème correspond au thème ‘bâtiment’.
Le but de cette deuxième étape est de trouver des couleurs plus appropriées pour améliorer la lisibilité des objets du thème mal contrasté dans la carte.
Pour commencer, notre modèle cherche quel type de contraste changer pour le thème à problème. Ici, il s’agit du contraste de clarté. Puis, chaque voisin d’un objet du thème à problème dans la carte propose des nouvelles couleurs. Celles-ci doivent permettre de traduire correctement la relation sémantique qui les lie. Une liste de propositions est alors créée et notre modèle sélectionne une solution.  
La figure 12 montre les cercles chromatiques utilisés pour faire des nouvelles propositions pour les bâtiments : le cercle en magenta met en évidence la couleur des bâtiments (gris moyen). L’axe Z correspond à la direction de changement de la clarté du gris des bâtiments. Enfin, les cercles blancs montrent les couleurs des voisins des bâtiments dans la carte (blanc pour le fond, bleu moyen pour l’aléa faible et bleu moyen foncé pour l’aléa moyen). Chaque thème voisin propose alors des solutions pour les bâtiments et c’est la clarté très foncée (encadrée en bleu dans la figure 12) qui est choisie.

Figure 12. Position, sur les cercles chromatiques, des couleurs du thème bâtiment et des thèmes qui lui sont voisins dans la carte et choix de la nouvelle couleur
L’évaluation du nouvel état nécessite une nouvelle analyse des contrastes aux niveaux local, intermédiaire et global. Suite à cette nouvelle analyse, la nouvelle satisfaction de la carte est comparée à la précédente. Si la valeur est meilleure, l’état est validé et Ec devient Ei+1. Les objets du thème à problème sont alors représentés par les nouvelles couleurs. Si la valeur est moins bonne, l’état n’est pas validé. Dans ce cas, notre modèle récupère une autre solution et la teste. Au cas où toutes les solutions seraient rejetées, un nouveau cycle est réalisé.
Dans notre exemple, la nouvelle satisfaction de la carte est de 4,4. Son amélioration par rapport à la valeur précédente (4) conduit ARiCo à valider le cycle. Ainsi, Ec devient Ei+1. La figure 13 montre la nouvelle carte obtenue.

Figure 13. Carte après un cycle de convergence
A l’état Ei, si la satisfaction de la carte est suffisamment bonne ousiles améliorations des derniers cycles sont minimes, la convergence est arrêtée. Sinon, un nouveau cycle est engagé.
Ce travail de thèse s’inscrit dans la longue évolution de la cartographie et de ses transformations pour mieux répondre aux besoins divers et croissants des hommes : informer sur l’espace pour le connaître, agir, et donc être un outil toujours plus adapté à leurs besoins, en intégrant les techniques nouvelles qui permettent une plus grande automatisation.
Ici, le projet était d’améliorer automatiquement la lisibilité des cartes, particulièrement de celles qui exigent de l’efficacité comme les cartes de risque dont on mesure sans peine l’intérêt pour les populations et pour les acteurs de la gestion de l’aménagement du territoire.
Notre modèle a été testé à travers un prototype créé pour les cartes de risque : ARiCo. Les premiers résultats des tests expérimentaux que nous avons pu réaliser se sont avérés satisfaisants. Désormais, différentes directions sont envisageables pour compléter et continuer cette recherche d’automatisation de l’amélioration de la lisibilité cartographique :
améliorer et valider notre modèle avec ARiCo en automatisant toutes les étapes de la convergence, en intégrant l’analyse et l’amélioration de tous les contrastes et en améliorant les connaissances sur les couleurs. Il serait aussi envisageable de tester d’autres méthodes de résolution du problème que la convergence.
faire évoluer notre modèle en se situant dans un contexte de carte à la carte. On proposerait à un utilisateur, via Internet, une interface dans laquelle il pourrait définir ses choix de carte et de légende. Une fois la carte créée selon ses envies, notre modèle analyserait les contrastes colorés pour les améliorer. Cette approche est actuellement étudiée au laboratoire Cogit de l’IGN (figure 14).

Figure 14. Intégration de notre modèle dans un projet plus global
-
